<div class="page-container-narrow">
  <div class="page-content" *ngIf="post$ | async as post; else loading">
    <div class="row-nav">
      <button
        mat-button
        class="nav-button-left"
        [routerLink]="['/']"
      >
        BACK
      </button>
      <button
        mat-button
        class="nav-button-right"
        (click)="openPostInTab(post.contentUrl)"
      >
        GO TO ARTICLE
      </button>
    </div>

    <div class="row-dates">
      <p class="added">

        ADDED TO NGNUGGETS: {{ post.datePosted}}
        <span *ngIf="post.postedBy">by {{ post.postedBy }}</span
        ><br />
        ORIGINAL PUBLISH DATE: {{ post.dateCreated }}
      </p>
    </div>

    <div class="row-image">
      <div class="col-left">
        <a (click)="openPostInTab(post.contentUrl)">
          <div>
            <img src="assets/images/{{ post.imgUrl }}" class="post-image" />
          </div>
        </a>
      </div>
      <div class="col-right">
        <div class="likes">
          23 LIKES
        </div>
        <button mat-button (click)="toggleStared()" class="likes-button">
          <mat-icon *ngIf="!stared" class="likes-false">star_border</mat-icon>
          <mat-icon *ngIf="stared" class="likes-true">star</mat-icon>
          <span class="likes-text">LIKE</span>
        </button>
        <button mat-button (click)="toggleBookmarked()" class="save-button">
          <mat-icon *ngIf="!bookmarked" class="save-false">bookmark_border</mat-icon>
          <mat-icon *ngIf="bookmarked" class="save-true">bookmark</mat-icon>
          <span class="save-text">SAVE</span>
        </button>
      </div>
    </div>

    <div class="row-title">
      <h3 class="post-title-text">{{ post.contentTitle }}</h3>
    </div>

    <div class="row-description">
      <p class="description">
        {{ post.contentDescription }}
      </p>
    </div>

    <div>
      <div class="post-source">
        <a class="post-source-link" href="{{ post.authorUrl }}" target="_blank">{{
          post.authorName
        }}</a>
        <span *ngIf="post.sourceSite && post.authorName"
          >&nbsp;&nbsp;|&nbsp;&nbsp;</span
        >
        <a class="post-source-link" href="{{ post.sourceUrl }}" target="_blank">{{
          post.sourceSite
        }}</a>
      </div>
    </div>


    <div class="card-row-content-type">
      <div class="content-type">
        <span
          *ngIf="post.contentType == 'video'"
          class="material-icons content-type-icon video-icon"
          >smart_display</span
        >
        <span
          *ngIf="post.contentType == 'blog'"
          class="material-icons content-type-icon blog-icon"
          >article</span
        >
        <span
          *ngIf="post.contentType == 'question'"
          class="material-icons content-type-icon question-icon"
          >question_answer</span
        >
        <span
          *ngIf="post.contentType == 'podcast'"
          class="material-icons content-type-icon podcast-icon"
          >podcasts</span
        >
        <span class="content-type">
          {{ post.contentType | uppercase }}
          <span *ngIf="post.duration" class="duration">- {{ post.duration }}m</span>
        </span>
         
      </div>
    </div>

    <div>
      <mat-chip-list>
        <mat-chip *ngFor="let tag of post.tags">{{ tag }}</mat-chip>
      </mat-chip-list>
    </div>
  </div>
  
  <ng-template #loading>
    <p>L o a d i n g . . .</p>
  </ng-template>
</div>
