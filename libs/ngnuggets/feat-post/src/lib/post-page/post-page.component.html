<div class="page-container-narrow">
  <div class="page-content" *ngIf="post; else loading">
    <div class="row-nav">
      <button mat-button class="nav-button-left" [routerLink]="['/']">
        BACK
      </button>
      <button
        mat-button
        class="nav-button-right"
        (click)="openPostInTab(post.contentUrl)"
      >
        GO TO ARTICLE
      </button>
    </div>

    <div class="row-image">
      <div>
        <a (click)="openPostInTab(post.contentUrl)">
          <img src="assets/images/{{ post.imgUrl }}" class="post-image" />
        </a>
      </div>
      <div class="col-right">
        <button mat-button (click)="toggleStared()" class="like-button">
          <mat-icon *ngIf="!stared">star_border</mat-icon>
          <mat-icon *ngIf="stared">star</mat-icon>
          <span class="action-text">LIKE</span>
        </button>
        <button mat-button (click)="toggleBookmarked()" class="save-button">
          <mat-icon *ngIf="!bookmarked">bookmark_border</mat-icon>
          <mat-icon *ngIf="bookmarked">bookmark</mat-icon>
          <span class="action-text">SAVE</span>
        </button>

        <!-- <div class="likes">23 LIKES</div> -->
      </div>
    </div>

    <div class="row-title">
      <a (click)="openPostInTab(post.contentUrl)">
        <h3 class="post-title-text">{{ post.contentTitle }}</h3>
      </a>
    </div>

    <div class="row-description">
      <p class="description">
        {{ post.contentDescription }}
      </p>
    </div>

    <div class="row-dates-first dates">
      <div class="added">
        Submitted {{ post.datePosted }} by: {{ post.postedBy }}
      </div>
      <div class="likes">{{ likesText }}</div>
    </div>

    <div class="row-dates-second dates">
      <div class="added">
        Published {{ post.dateCreated }} by:
        <span class="post-source">
          <a
            class="post-source-link"
            href="{{ post.authorUrl }}"
            target="_blank"
            >{{ post.authorName }}</a
          >
          <span *ngIf="post.sourceSite && post.authorName"
            >&nbsp;&nbsp;|&nbsp;&nbsp;</span
          >
          <a
            class="post-source-link"
            href="{{ post.sourceUrl }}"
            target="_blank"
            >{{ post.sourceSite }}</a
          >
        </span>
      </div>
    </div>

    <div></div>

    <div class="card-row-content-type">
      <div class="content-type">
        <span
          *ngIf="post.contentType === 'video'"
          class="material-icons content-type-icon video-icon"
          >smart_display</span
        >
        <span
          *ngIf="post.contentType === 'blog'"
          class="material-icons content-type-icon blog-icon"
          >article</span
        >
        <span
          *ngIf="post.contentType === 'podcast'"
          class="material-icons content-type-icon podcast-icon"
          >podcasts</span
        >
        <span
          *ngIf="post.contentType === 'release'"
          class="material-icons content-type-icon release-icon"
          >sell</span
        >
        <span class="content-type">
          {{ post.contentType | uppercase }}
          <span *ngIf="post.duration" class="duration">
            - {{ post.duration }}m</span
          >
        </span>
      </div>
      <div class="likes">
        {{ post.likes }}
        <span class="material-icons">
          <mat-icon class="likes-icon">star_border</mat-icon>
        </span>
      </div>
    </div>

    <div>
      <mat-chip-list>
        <mat-chip *ngFor="let tag of post.tags">{{ tag }}</mat-chip>
      </mat-chip-list>
    </div>
  </div>

  <ng-template #loading>
    <p>L o a d i n g . . .</p>
  </ng-template>
</div>
